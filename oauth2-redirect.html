<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Logging in...</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="d-flex align-items-center justify-content-center vh-100">
<div class="text-center">
    <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3">Securely logging you in...</p>
</div>
<script>
    const token = new URLSearchParams(window.location.search).get('token');

    if (token) {
        localStorage.setItem('authToken', token);
        window.location.href = 'onlineUsers/index.html';
    } else {
        alert("Google login failed. Please try again.");
        window.location.href = 'index.html';
    }
</script>
</body>
</html>







































<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Logging in...</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <link rel="preconnect" href="https://fonts.googleapis.com">-->
<!--    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>-->
<!--    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">-->

<!--    <style>-->
<!--        body, html {-->
<!--            height: 100%;-->
<!--            margin: 0;-->
<!--            font-family: 'Poppins', sans-serif;-->
<!--        }-->

<!--        .body-bg {-->
<!--            /* Full screen background image with a dark overlay */-->
<!--            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1554734867-bf3c00a49371?q=80&w=1965&auto=format&fit=crop') no-repeat center center;-->
<!--            background-size: cover;-->
<!--            min-height: 100vh;-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            justify-content: center;-->
<!--        }-->

<!--        /* The "Frosted Glass" Card Effect */-->
<!--        .glass-card {-->
<!--            background: rgba(255, 255, 255, 0.1);-->
<!--            backdrop-filter: blur(12px);-->
<!--            -webkit-backdrop-filter: blur(12px); /* For Safari */-->
<!--            border-radius: 20px;-->
<!--            border: 1px solid rgba(255, 255, 255, 0.2);-->
<!--            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);-->
<!--            padding: 3rem;-->
<!--            color: white; /* Make all text inside white */-->
<!--            width: 100%;-->
<!--            max-width: 500px;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body class="body-bg">-->

<!--<div class="glass-card text-center">-->
<!--    <div class="spinner-border text-light" style="width: 3rem; height: 3rem;" role="status">-->
<!--        <span class="visually-hidden">Loading...</span>-->
<!--    </div>-->
<!--    <h4 class="mt-4">Finalizing Your Login...</h4>-->
<!--    <p class="text-white-50">Please wait while we securely connect your account.</p>-->
<!--</div>-->

<!--<script>-->
<!--    // This script runs immediately to process the token from Google-->
<!--    const params = new URLSearchParams(window.location.search);-->
<!--    const token = params.get('token');-->
<!--    const error = params.get('error');-->

<!--    if (error) {-->
<!--        alert("Google login failed: " + error);-->
<!--        window.location.href = 'login.html'; // Redirect to login page on error-->
<!--    } else if (token) {-->
<!--        // We have a token, store it-->
<!--        localStorage.setItem('authToken', token);-->
<!--        // TODO: You might want to get the user's role here before redirecting,-->
<!--        // or the next page should handle fetching user details with the new token.-->
<!--        // For now, redirecting to a default dashboard.-->
<!--        window.location.href = 'login.html';-->
<!--    } else {-->
<!--        // No token and no error, something is wrong-->
<!--        alert("Login failed. No token received. Please try again.");-->
<!--        window.location.href = 'login.html'; // Redirect to login page-->
<!--    }-->
<!--</script>-->

<!--</body>-->
<!--</html>-->

